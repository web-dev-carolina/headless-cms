[{"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/index.js":"1","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/serviceWorker.js":"2","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/App.js":"3","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/context/UserContext.js":"4","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/NavbarContainer.jsx":"5","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/Dashboard.jsx":"6","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/ProjectSelect.jsx":"7","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/Login.jsx":"8","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/Signup.jsx":"9","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/people/PeoplePage.jsx":"10","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/testimonials/TestimonialsPage.jsx":"11","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/text/TextContentPage.jsx":"12","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/people/People.jsx":"13","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/testimonials/Testimonials.jsx":"14","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/text/TextContent.jsx":"15"},{"size":404,"mtime":1608835724117,"results":"16","hashOfConfig":"17"},{"size":5086,"mtime":1608835724118,"results":"18","hashOfConfig":"17"},{"size":1578,"mtime":1609002661409,"results":"19","hashOfConfig":"17"},{"size":75,"mtime":1608835724117,"results":"20","hashOfConfig":"17"},{"size":4064,"mtime":1609276890971,"results":"21","hashOfConfig":"17"},{"size":1469,"mtime":1609276890969,"results":"22","hashOfConfig":"17"},{"size":1733,"mtime":1609276890972,"results":"23","hashOfConfig":"17"},{"size":2148,"mtime":1609276890970,"results":"24","hashOfConfig":"17"},{"size":2723,"mtime":1611535962196,"results":"25","hashOfConfig":"17"},{"size":4859,"mtime":1609276890981,"results":"26","hashOfConfig":"17"},{"size":3526,"mtime":1609276890984,"results":"27","hashOfConfig":"17"},{"size":4985,"mtime":1611535962197,"results":"28","hashOfConfig":"17"},{"size":6728,"mtime":1609276890973,"results":"29","hashOfConfig":"17"},{"size":5325,"mtime":1609276890982,"results":"30","hashOfConfig":"17"},{"size":5317,"mtime":1609276890985,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"kbhj1e",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"34"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/index.js",[],["69","70"],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/serviceWorker.js",[],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/App.js",["71"],"import NavbarContainer from './components/NavbarContainer.jsx';\nimport React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from \"./context/UserContext.js\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Axios from 'axios';\nrequire('dotenv').config();\n\nfunction App() {\n  const [userData, setUserData] = useState({ token: undefined, userInfo: { user: undefined, proj: [undefined] } });\n  const history = useHistory();\n\n  useEffect(() => {\n    const checkLoggedIn = async () => {\n      let token = localStorage.getItem(\"auth-token\");\n      if (token == null) {\n        localStorage.setItem(\"auth-token\", \"\");\n        token = \"\";\n      }\n      const tokenRes = await Axios.post(process.env.REACT_APP_API_URL+\"/users/tokenIsValid\", null, {\n        headers: { \"auth-token\": token }\n      });\n      if (tokenRes.data.valid) {\n        const userRes = await Axios.get(process.env.REACT_APP_API_URL+\"/users/\" + tokenRes.data.user._id);\n        setUserData({\n          token: tokenRes.data.token,\n          userInfo: {\n            user: userRes.data.user,\n            proj: userRes.data.proj,\n            activeProject: \"\"\n          },\n        });\n        history.push('/projectselect');\n        console.log('already logged in');\n      } else {\n        history.push('/signin');\n      }\n    }\n    checkLoggedIn();\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ userData, setUserData }} >\n      <NavbarContainer>\n      </NavbarContainer>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/context/UserContext.js",[],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/NavbarContainer.jsx",["72"],"import React, { useContext } from 'react';\nimport { Navbar, Nav, Button, NavDropdown } from 'react-bootstrap';\nimport { HashLink as HLink } from 'react-router-hash-link';\nimport { Route, Switch } from 'react-router-dom';\nimport Dashboard from './Dashboard.jsx'\nimport Login from './Login.jsx';\nimport Signup from './Signup.jsx';\nimport ProjectSelect from './ProjectSelect.jsx';\nimport PeoplePage from './people/PeoplePage.jsx'\nimport TestimonialsPage from './testimonials/TestimonialsPage.jsx';\nimport TextContentPage from './text/TextContentPage.jsx';\nimport UserContext from \"../context/UserContext.js\";\nimport \"../styles/NavbarContainer.css\";\nimport { useHistory } from 'react-router-dom';\n\nconst NavbarContainer = () => {\n    const { userData, setUserData } = useContext(UserContext);\n    const history = useHistory();\n\n    const logout = () => {\n        setUserData({\n            token: undefined,\n            userInfo: undefined\n        })\n        localStorage.clear();\n        history.push(\"/login\");\n    };\n\n    return (\n        <>\n            <Navbar sticky=\"top\" bg=\"light\" variant=\"light\" className=\"navbar\" expand=\"sm\" collapseOnSelect>\n                <Navbar.Brand className=\"logo-nav\">\n                    {/* <img alt=\"logo\" src={require(\"../images/wdc-circle-logo.png\")} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" /> */}\n          &ensp; Web Dev Carolina CMS\n        </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                    <Nav className=\"ml-auto\">\n                    </Nav>\n                    {userData.token !== undefined ? (\n                        <>\n                            {userData.userInfo.activeProject !== \"\" && userData.userInfo.activeProject !== undefined ? (\n                                <>\n                                    <Navbar.Text className=\"pr-3\">Active project: <span className=\"black-text\">{userData.userInfo.activeProject}</span></Navbar.Text>\n                                </>\n                            ) : (<></>)}\n                            <Navbar.Text className=\"pr-3\">Signed in as: <span className=\"black-text\">{userData.userInfo.user}</span></Navbar.Text>\n                            <Button as={HLink} onClick={logout} to=\"signin\" variant=\"outline-dark\" className=\"ml-3\">Log out</Button>\n                        </>\n                    ) : (\n                            <>\n                                <Button as={HLink} to=\"/signin\" variant=\"outline-dark\" className=\"ml-3\">Sign in</Button>\n                                <Button as={HLink} to=\"/signup\" variant=\"outline-dark\" className=\"ml-3\">Sign up</Button>\n                            </>\n                        )}\n                </Navbar.Collapse>\n            </Navbar>\n            <Switch>\n                <Route exact path=\"/\" component={Login} />\n                <Route path=\"/signin\" component={Login} />\n                {userData.token !== undefined ? (\n                    <>\n                        <Route path='/signup' component={Signup} />\n                        <Route path='/projectselect' component={ProjectSelect} />\n                        <Route path='/dashboard' component={Dashboard} />\n                        <Route path='/people' component={PeoplePage} />\n                        <Route path='/testimonials' component={TestimonialsPage} />\n                        <Route path='/text' component={TextContentPage} />\n                    </>\n                ) : (\n                        <>\n                            <Route path='/signup' component={Signup} />\n                            <Route path='/projectselect' component={Login} />\n                            <Route path='/dashboard' component={Login} />\n                            <Route path='/people' component={Login} />\n                            <Route path='/testimonials' component={Login} />\n                        </>\n                    )}\n            </Switch>\n        </>\n    )\n};\n\nexport default NavbarContainer;","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/Dashboard.jsx",["73"],"import React, { useState, useEffect } from \"react\";\nimport { Container, Button, Row } from \"react-bootstrap\";\nimport \"../styles/Login.css\";\nimport { useHistory } from \"react-router-dom\";\nimport Axios from \"axios\";\n\nconst Dashboard = () => {\n    const [collectionsList, setCollectionsList] = useState([]);\n    const history = useHistory();\n\n    useEffect(() => {\n        async function fetchData() {\n            const result = await Axios.get('http://localhost:9000/info');\n            setCollectionsList(result.data[0].collections);\n        }\n        fetchData();\n    }, []);\n\n    async function clickHandler(collection) {\n        history.push('/' + collection.toString().toLowerCase());\n    }\n\n    return (\n        <>\n            <Container>\n                <h1>Dashboard</h1>\n                <h3 className=\"text-center\">Select the collection you want to work on.</h3>\n            </Container>\n            <Container className=\"collections-list col-md-6 pt-3\" id=\"collection-select\">\n                {collectionsList.filter((c) => c !== \"\")\n                    .map(c =>\n                        <>\n                            <Button id={c} variant=\"secondary\" size=\"lg\" block onClick={(e) => clickHandler(e.target.firstChild.data)}>\n                                {c}\n                            </Button>\n                            <br></br>\n                        </>\n                    )}\n            </Container>\n        </>\n    )\n}\n\nexport default Dashboard;","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/ProjectSelect.jsx",["74"],"import React, { useEffect, useState, useContext } from \"react\";\nimport { Container, Button } from \"react-bootstrap\";\nimport \"../styles/ProjectSelect.css\";\nimport Axios from \"axios\";\nimport UserContext from '../context/UserContext.js';\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ProjectSelect() {\n    const history = useHistory();\n    const { userData, setUserData } = useContext(UserContext);\n    const [projectsList, setProjectsList] = useState([]);\n\n    useEffect(() => {\n        setProjectsList(userData.userInfo.proj);\n    });\n\n    async function clickHandler(project) {\n        const projReqBody = { \"project\": project };\n        await Axios.post(process.env.REACT_APP_API_URL + \"/projects/connect\", projReqBody);\n        setUserData({\n            token: userData.token,\n            userInfo: {\n                user: userData.userInfo.user,\n                proj: userData.userInfo.proj,\n                activeProject: project\n            }\n        })\n        history.push('/dashboard');\n    }\n\n    return (\n        <>\n        <h3 className=\"text-center pt-3\">Select the project you want to work on.</h3>\n        <Container className=\"project-select col-md-6\" id=\"project-select\">\n            <div className=\"projects-list pt-3\">\n                {projectsList.filter((p) => p !== \"\")\n                    .map(p =>\n                        <>\n                            <Button id={p} variant=\"secondary\" size=\"lg\" block onClick={(e) => clickHandler(e.target.firstChild.data)}>\n                                {p}\n                            </Button>\n                            <br></br>\n                        </>\n                    )}\n            </div>\n        </Container>\n        </>\n    );\n}","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/Login.jsx",[],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/Signup.jsx",[],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/people/PeoplePage.jsx",["75"],"import React, { useState, useContext, useEffect } from \"react\";\nimport { Form, Container, Button, Modal, Row, Col } from \"react-bootstrap\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport People from './People.jsx';\nconst PeoplePage = () => {\n    const history = useHistory();\n    const [people, setPeople] = useState([]);\n    const [showCreate, setShowCreate] = useState(false);\n    const [newFname, setNewFname] = useState(\"\");\n    const [newLname, setNewLname] = useState(\"\");\n    const [newPos, setNewPos] = useState(\"\");\n    const [newBio, setNewBio] = useState(\"\");\n\n    useEffect(() => {\n        async function fetchData() {\n            const result = await Axios.get(process.env.REACT_APP_API_URL + \"/people\");\n            const data = result.data;\n            setPeople(data);\n        }\n        fetchData();\n    }, []);\n\n    const showCreateModal = () => setShowCreate(true);\n    const closeCreateModal = () => setShowCreate(false);\n    const saveNewPerson = async () => {\n        const url = process.env.REACT_APP_API_URL + \"/people\";\n        await Axios.post(url, {\n            fname: newFname,\n            lname: newLname,\n            pos: newPos,\n            bio: newBio\n        })\n        setShowCreate(false);\n        history.replace('/dashboard');\n        history.replace('/people');\n    }\n\n    return (\n        <>\n            <Container className=\"home pt-3\">\n                <h3 className=\"text-center\">People collection:</h3>\n                <Button variant=\"secondary\" onClick={showCreateModal}>Add new organization member</Button>\n                <div className=\"row\" key=\"people\">\n                    {people.map(person => <People person={person} />)}\n                </div>\n            </Container>\n            <Modal show={showCreate} onHide={closeCreateModal}>\n                <Modal.Header className=\"border-0\">\n                    <Modal.Title>Create a new organization member</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form className=\"\">\n                        <Row>\n                            <Col>\n                                <Form.Group size=\"lg\" controlId=\"fname\">\n                                    <Form.Label>First Name</Form.Label>\n                                    <Form.Control\n                                        autoFocus\n                                        type=\"text\"\n                                        placeholder=\"John\"\n                                        value={newFname}\n                                        onChange={(e) => setNewFname(e.target.value)}\n                                    />\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <Form.Group size=\"lg\" controlId=\"lname\">\n                                    <Form.Label>Last Name</Form.Label>\n                                    <Form.Control\n                                        type=\"text\"\n                                        placeholder=\"Doe\"\n                                        value={newLname}\n                                        onChange={(e) => setNewLname(e.target.value)}\n                                    />\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                        <Form.Group size=\"lg\" controlId=\"pos\">\n                            <Form.Label>Position</Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"President\"\n                                value={newPos}\n                                onChange={(e) => setNewPos(e.target.value)}\n                            />\n                        </Form.Group>\n                        <Form.Group size=\"lg\" controlId=\"bio\">\n                            <Form.Label>Bio</Form.Label>\n                            <Form.Control\n                                as=\"textarea\"\n                                rows={3}\n                                placeholder=\"Received his MBA from UNC Kenan-Flagler and is an avid bird-watcher.\"\n                                value={newBio}\n                                onChange={(e) => setNewBio(e.target.value)}\n                            />\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer className=\"border-0\">\n                    <Button variant=\"secondary\" onClick={closeCreateModal}>\n                        Cancel\n                    </Button>\n                    <Button variant=\"primary\" onClick={saveNewPerson}>\n                        Save\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    )\n}\n\nexport default PeoplePage;","/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/testimonials/TestimonialsPage.jsx",[],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/text/TextContentPage.jsx",[],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/people/People.jsx",[],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/testimonials/Testimonials.jsx",[],["76","77"],"/Users/maccarlton/Desktop/web-dev-carolina/headless-cms/cms-app/src/components/text/TextContent.jsx",[],{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":41,"column":6,"nodeType":"84","endLine":41,"endColumn":8,"suggestions":"85"},{"ruleId":"86","severity":1,"message":"87","line":2,"column":31,"nodeType":"88","messageId":"89","endLine":2,"endColumn":42},{"ruleId":"86","severity":1,"message":"90","line":2,"column":29,"nodeType":"88","messageId":"89","endLine":2,"endColumn":32},{"ruleId":"82","severity":1,"message":"91","line":13,"column":5,"nodeType":"88","endLine":13,"endColumn":14,"suggestions":"92"},{"ruleId":"86","severity":1,"message":"93","line":1,"column":27,"nodeType":"88","messageId":"89","endLine":1,"endColumn":37},{"ruleId":"78","replacedBy":"94"},{"ruleId":"80","replacedBy":"95"},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["98"],"no-unused-vars","'NavDropdown' is defined but never used.","Identifier","unusedVar","'Row' is defined but never used.","React Hook useEffect contains a call to 'setProjectsList'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [userData.userInfo.proj] as a second argument to the useEffect Hook.",["99"],"'useContext' is defined but never used.",["96"],["97"],"no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [history]",{"range":"104","text":"105"},"Add dependencies array: [userData.userInfo.proj]",{"range":"106","text":"107"},[1394,1396],"[history]",[557,557],", [userData.userInfo.proj]"]